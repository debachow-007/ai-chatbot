{% extends "layout.html" %}
{% block content %}

<div class="max-w-2xl mx-auto mt-6 p-6 bg-white rounded-xl shadow-lg">
    <div class="mb-6 border-b pb-3">
        <h2 class="text-2xl font-semibold text-gray-800">Add Portfolio Item</h2>
        <p class="text-gray-500 text-sm">Create a new portfolio project with details & preview image.</p>
    </div>

    <form method="post" enctype="multipart/form-data" class="space-y-5">

        <div>
            <label class="block font-medium text-gray-700 mb-1">Title</label>
            <input name="title" placeholder="e.g. Women Listed Bazaar"
                   class="border p-3 w-full rounded-lg focus:ring-2 focus:ring-black focus:outline-none" required>
        </div>

        <div>
            <label class="block font-medium text-gray-700 mb-1">Description</label>
            <textarea name="description" rows="4" placeholder="Write a short description..."
                      class="border p-3 w-full rounded-lg focus:ring-2 focus:ring-black focus:outline-none"></textarea>
        </div>

        <div>
            <label class="block font-medium text-gray-700 mb-1">Category</label>
            <input name="category" placeholder="e.g. Web App, Brand Design"
                   class="border p-3 w-full rounded-lg focus:ring-2 focus:ring-black focus:outline-none">
        </div>

        <div>
            <label class="block font-medium text-gray-700 mb-1">Project URL</label>
            <input name="project_url" placeholder="https://project-link.com"
                   class="border p-3 w-full rounded-lg focus:ring-2 focus:ring-black focus:outline-none">
        </div>

        <div>
            <label class="block font-medium text-gray-700 mb-1">Upload Image</label>
            <input type="file" name="image_file" accept="image/*"
                   class="block w-full text-sm text-gray-600 file:mr-4 file:py-2 file:px-4
                          file:rounded-lg file:border-0 file:bg-black file:text-white
                          hover:file:bg-gray-800 cursor-pointer">
        </div>

        <!-- Preview Area -->
        <div class="border rounded-lg p-3 bg-gray-50">
            <p class="text-gray-600 text-sm mb-2">Image Preview</p>
            <img id="previewImage" class="w-full max-h-64 rounded-lg object-cover hidden" />
            <p id="noImageText" class="text-gray-400 text-center py-10">No image selected</p>
        </div>

        <button
            class="bg-black hover:bg-gray-800 transition text-white py-3 rounded-lg w-full font-semibold">
            Save Portfolio Item
        </button>

    </form>
</div>

<script>
const fileInput = document.querySelector('input[name="image_file"]');
const preview = document.getElementById("previewImage");
const noText = document.getElementById("noImageText");

fileInput.addEventListener("change", () => {
    const file = fileInput.files[0];
    if (file) {
        preview.src = URL.createObjectURL(file);
        preview.classList.remove("hidden");
        noText.classList.add("hidden");
    } else {
        preview.classList.add("hidden");
        noText.classList.remove("hidden");
    }
});
</script>

{% endblock %}
